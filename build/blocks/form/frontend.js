document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".zolo-contact-form");e.length>0&&e.forEach((e=>{if("true"==e.dataset.recaptcha)return;const t=e.dataset.formId;let o=e.parentNode.querySelector(".zolo-form-msg"),s=e.parentNode.querySelector(".zolo-msg-desc");const n=e.parentNode.querySelector(".zolo-msg-close");let a=new Pristine(e);e.addEventListener("submit",(function(r){if(r.preventDefault(),a.validate()){const a=[...new FormData(e).entries()];a.push(["formId",t]),a.push(["nonce",zoloSettings.zolo_nonce]);const r=a.reduce(((e,[t,o])=>(e[t]="file"===t?o.name:o,e)),{}),i=JSON.stringify(r),c=new XMLHttpRequest;c.open("POST",zoloSettings.ajaxurl,!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.onreadystatechange=function(){if(c.readyState===XMLHttpRequest.DONE)if(200===c.status){const t=JSON.parse(c.responseText),{validationStatus:a,validationMessage:r,successStatus:i,successMessage:l,failStatus:d,failMessage:u,nonceValidationFail:f}=t;(a||f)&&(s.innerHTML=r,o.classList.add("zolo-form-error-msg","show")),i&&(s.innerHTML=l,o.classList.add("zolo-form-success-msg","show")),d&&(s.innerHTML=u,o.classList.add("zolo-form-error-msg","show")),e.reset(),setTimeout((()=>{s.innerHTML="",o.classList.remove("validation-error","success","fail","show")}),5e3),n.addEventListener("click",(function(){s.innerHTML="",o.classList.remove("validation-error","success","fail","show")}))}else console.error("Error:",c.statusText)},c.send("action=send_form_data&formData="+encodeURIComponent(i))}}))}))}));